<div data-id="abcdef12"  class="expander code-header nsis">NullSoft Installer Script</div><pre id="abcdef12" class="code-body" style="display:block"><code class="language-nsis">; WoP 1.2 patch installer script
; Auto-generated by EclipseNSIS Script Wizard (1/4)
; ...and fine tuned by smiley :) (3/4)
; 01.03.2007 19:02:52
RequestExecutionLevel admin

; Included files
!include Sections.nsh
!include MUI.nsh
!insertmacro MUI_RESERVEFILE_LANGDLL
!define MUI_ICON "WoP.ico"
!define MUI_UNICON "UnWoP.ico"

; Installer attributes
Name "WoP Patch 1.2"
OutFile "wop_patch_1_2.exe"

CRCCheck on
XPStyle on
ShowInstDetails hide
InstallDirRegKey HKLM ${REGKEY} Path
#ShowUninstDetails hide

; Defines
!define REGKEY "SOFTWARE\$(^Name)"
!define VERSION "1.2"
!define COMPANY "Padworld Entertainment"
!define URL "http://www.worldofpadman.com"

; MUI defines
!define MUI_ABORTWARNING
!define MUI_WELCOMEFINISHPAGE_BITMAP "index.bmp"
!define MUI_FINISHPAGE_NOAUTOCLOSE
!define MUI_COMPONENTSPAGE_SMALLDESC
!define MUI_FINISHPAGE_RUN_NOTCHECKED
!define MUI_FINISHPAGE_RUN "$INSTDIR\wop.exe"
!define MUI_FINISHPAGE_SHOWREADME "$INSTDIR\XTRAS\wop_patch_1_2.txt"
!define MUI_FINISHPAGE_LINK "World of Padman Website"
!define MUI_FINISHPAGE_LINK_LOCATION  "http://www.worldofpadman.com"
!define MUI_FINISHPAGE_NOREBOOTSUPPORT
!define MUI_LANGDLL_REGISTRY_ROOT HKLM
!define MUI_LANGDLL_REGISTRY_KEY "SOFTWARE\World of Padman"
!define MUI_LANGDLL_REGISTRY_VALUENAME "InstallerLanguage"

; Reserved Files
ReserveFile "${NSISDIR}\Plugins\AdvSplash.dll"


; Installer pages
!insertmacro MUI_PAGE_WELCOME
!insertmacro MUI_PAGE_DIRECTORY
!insertmacro MUI_PAGE_INSTFILES
!insertmacro MUI_PAGE_FINISH

; Installer languages
!insertmacro MUI_LANGUAGE English
!insertmacro MUI_LANGUAGE German

;Language strings
  LangString ^DESC_aborttext ${LANG_ENGLISH} "I canÂ´t find the path to your World of Padman installation$\nPlease find it yourself when asked ;)"
  LangString ^DESC_dirtext ${LANG_ENGLISH} "This needs to be the path to your World of Padman installation!"

  LangString ^DESC_aborttext ${LANG_GERMAN} "Ich kann Deine World of Padman Installation nicht finden$\nBitte gib den Pfad selbst an, wenn danach verlangt wird ;)"
  LangString ^DESC_dirtext ${LANG_GERMAN} "Dies muss der Pfad zu Deiner World of Padman Installation sein!"


DirText $(^DESC_dirtext)


Function .onInit
    ReadRegStr $INSTDIR HKLM "SOFTWARE\World of Padman" "Path"
    StrCmp $INSTDIR "" 0 NoAbort
      MessageBox MB_OK $(^DESC_aborttext)
    NoAbort:

    InitPluginsDir
    File /oname=$PLUGINSDIR\spltmp.bmp "setup1.bmp"

    Push $R1
    advsplash::show 1500 1000 1000 -1 "$PLUGINSDIR\spltmp"
    Pop $R1
    Pop $R1
    !insertmacro MUI_LANGDLL_DISPLAY
FunctionEnd


; Installer sections
Section "$(^Name)" Section1

SectionIn RO
    SetOverwrite on

    SetOutPath $INSTDIR\wop
    File wop12\wop\wop_006.pk3
    File wop12\wop\wop_padpack02.pk3
    File wop12\wop\wop_vms12.pk3
    File wop12\wop\server-allgametypes.cfg
    File wop12\wop\server-bigballoon.cfg
    File wop12\wop\server-lastpadstanding.cfg
    File wop12\wop\server-sprayyourcolour.cfg
    File wop12\wop\server-wop_padpack.cfg
    SetOutPath $INSTDIR\xtras
    File wop12\XTRAS\wop_patch_1_2.txt
    SetOutPath $INSTDIR
    File wop12\wop.exe

  SetShellVarContext all
    CreateDirectory "$SMPROGRAMS\PadWorld Entertainment\World of Padman"
    CreateShortCut "$SMPROGRAMS\PadWorld Entertainment\World of Padman\WoP Patch 1.2 ReadMe.lnk" "$INSTDIR\XTRAS\wop_patch_1_2.txt" "" "" 0

SectionEnd</code></pre>